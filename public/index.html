<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script src="/socket.io/socket.io.js"></script>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v4.2.0/dist/aframe-extras.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r99/three.min.js"></script> -->

    <!-- Components -->
    <script src="/components/logout.js"></script>
    <script src="/components/tryon.js"></script>
    <script src="/components/trypants.js"></script>
    <script src="/components/tryshoes.js"></script>
  </head>
  
  <body>
    <a-scene
      cursor="rayOrigin: mouse"
      physics="gravity: -9.8"
      inspector-plugin-recast="serviceURL: http://localhost:5000;"
    >
      <!-- Asset Management System -->
      <a-assets>
        <a-asset-item
          id="model"
          src="assets/rigged_human_character_free/scene.gltf"
        ></a-asset-item>
      </a-assets>

      <!-- Ambient Light -->
      <a-entity light="type: ambient; color: #BBB"></a-entity>

      <!-- Directional Light -->
      <a-entity
        light="type: directional; color: #FFFFFF; intensity: 0.1; castShadow: true"
        position="0 100 0"
      ></a-entity>

      <!-- Background Music -->
      <a-entity sound="src: url(assets/music.mp3); autoplay: true; loop: true;"></a-entity>

      <!-- Camera + User -->
      <a-entity id="user">
        <a-entity id="camera" camera wasd-controls look-controls="reverseMouseDrag:true" position="0 3.5 0">
      
          <!-- Checkout Button -->
          <a-text value="Check Cart" position="0.88 0.69 -0.99" color="white" width="1"></a-text>
          <a-box scale="0.3 0.1 0" position="1 0.7 -1" color="yellow"></a-box>
      
          <!-- Logout Button -->
          <a-text value="Logout" position="0.92 0.54 -0.99" color="white" width="1"></a-text>
          <a-box scale="0.2 0.1 0" position="1 0.55 -1" color="red" logout></a-box>
        </a-entity>
      </a-entity>


      <!-- Sky -->
      <a-sky color="#FFFFFF"></a-sky>

      <!-- Ceiling -->
      <a-plane
        src="assets/pattern.jpeg"
        position="0 20 0"
        rotation="90 0 0"
        scale="50 50 0"
        material="color: #E7C7A3; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 10 5;"
      ></a-plane>

      <!-- Right Wall -->
      <a-plane
        src="assets/walls.jpeg"
        position="25 10 0"
        rotation="0 -90 0"
        scale="50 20 0"
        material="color: #E5E7A3; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2"
        shadow="receive: true"
      ></a-plane>

      <!-- Left Wall -->
      <a-plane
        src="assets/walls.jpeg"
        position="-25 10 0"
        rotation="0 90 0"
        scale="50 20 0"
        material="color: #E5E7A3; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2"
        shadow="receive: true"
      ></a-plane>

      <!-- Front Wall -->
      <a-plane
        src="assets/walls.jpeg"
        position="0 10 -25"
        rotation="0 0 0"
        scale="50 20 0"
        material="color: #E7A5A3; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2"
        shadow="receive: true"
      ></a-plane>

      <!-- Back Wall -->
      <a-plane
        src="assets/walls.jpeg"
        position="0 10 25"
        rotation="0 180 0"
        scale="50 20 0"
        material="color: #E7A5A3; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2"
        shadow="receive: true"
      ></a-plane>

      <!-- Floor -->
      <a-plane
        src="assets/grass.jpeg"
        static-body
        position="0 0 0"
        rotation="-90 0 0"
        scale="50 50 0"
        material="color: #A3C3E7; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 20 10;"
        shadow="receive: true"
      ></a-plane>

      <!-- Exit Doors -->
      <a-text value="EXIT" position="-0.8 10.5 -24.9" color="black" width="12"></a-text>
      <a-box position="0 10.5 -25" rotation="0 0 0" width="5" height="1.5" depth="0.1" color="white"></a-box>
      <a-box src="assets/wood.jpg" static-body position="0 5 -25" rotation="0 0 0" scale="5 10 0.25" logout
        material="color: blue; shader: phong; reflectivity: 0.9; shininess: 30;" shadow="receive: true">
      </a-box>
      
      <a-text value="EXIT" position="0.8 10.5 24.9" rotation="0 180 0" color="black" width="12"></a-text>
      <a-box position="0 10.5 25" rotation="0 0 0" width="5" height="1.5" depth="0.1" color="white"></a-box>
      <a-box src="assets/wood.jpg" static-body position="0 5 25" rotation="0 0 0" scale="5 10 0.25" logout
        material="color: blue; shader: phong; reflectivity: 0.9; shininess: 30;" shadow="receive: true">
      </a-box>
      
      
      <!-- Spirals -->
      <a-torus color="hotpink" position="13 0 0" rotation="0 90 0" radius="2"></a-torus>
      <a-torus color="orange" position="13 0 0" rotation="0 90 0" radius="4" radius-tubular="0.2"></a-torus>
      <a-torus color="blue" position="13 0 0" rotation="0 90 0" radius="3" radius-tubular="0.2"></a-torus>
      <a-torus color="red" position="13 0 0" rotation="0 90 0" radius="5" radius-tubular="0.2"></a-torus>
      
      <a-torus color="hotpink" position="-13 0 0" rotation="0 90 0" radius="2"></a-torus>
      <a-torus color="orange" position="-13 0 0" rotation="0 90 0" radius="4" radius-tubular="0.2"></a-torus>
      <a-torus color="blue" position="-13 0 0" rotation="0 90 0" radius="3" radius-tubular="0.2"></a-torus>
      <a-torus color="red" position="-13 0 0" rotation="0 90 0" radius="5" radius-tubular="0.2"></a-torus>

      <!-- text banner -->
      <a-text value="Welcome to SpongeVerse!" position="-3.1 7.5 0.1" color="black" width="12"></a-text>
      <a-text value="Welcome to SpongeVerse!" rotation="0 180 0" position="3.1 7.5 -0.1" color="black" width="12"></a-text>
      <a-box position="0 7.5 0" rotation="0 0 0" width="7" height="1.5" depth="0.1" color="khaki"></a-box>
      
      <!-- banner pilars -->
      <a-cylinder position=" 3.5 1 0" rotation="0 45 0" radius="0.3" height="15" depth="0.2" color="magenta"></a-cylinder>
      <a-cylinder position="-3.5 1 0" rotation="0 45 0" radius="0.3" height="15" depth="0.2" color="magenta"></a-cylinder>


      <!-- Wearable Items to Buy-->
      <!-- Iteam 1 -->
      <a-gltf-model
      id="user"
      position="-8 -4 0"
      scale="0.0054 0.0048 0.0059"
      src="assets/tank_top/scene.gltf"
      animation="property: rotation; to: 0 360 0; dur: 5000; loop: true; easing: linear"

    ></a-gltf-model>
      <a-box src="assets/tiles.jpeg" static-body position="-8 0 0" scale="8 1 8" 
          material="color: #D4A3BA; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2;" shadow="receive: true; cast: true;">
      </a-box>
      
      <a-text value="Buy" position="-9.5 5.1 0.01" color="black" width="12"></a-text>
      <a-text value="Buy" position="-8.5 5.1 -0.01" rotation="0 180 0" color="black" width="12"></a-text>
      <a-box position="-9 5 0" rotation="0 0 0" width="1.5" height="1" depth="0" color="white"></a-box>
      
      <a-text value="Try On" position="-7.7 5.1 0.01" color="black" width="10" tryon></a-text>
      <a-text value="Try On" position="-6.3 5.1 -0.01" rotation="0 180 0" color="black" width="10" tryon></a-text>
      <a-box position="-7 5 0" rotation="0 0 0" width="1.5" height="1" depth="0" color="white" tryon></a-box>

      <!-- Item 2 -->
      <a-gltf-model
        id="shoes"
        position="8 1 0"
        scale="8 7 7"
        src="assets/new_balance_kids/scene.gltf"
        animation="property: rotation; to: 0 360 0; dur: 5000; loop: true; easing: linear"
      ></a-gltf-model>
      <a-box src="assets/tiles.jpeg" static-body position="8 0 0" scale="8 1 8"
          material="color: #D4A3BA; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2;" shadow="receive: true; cast: true;">
      </a-box>
      
      <a-text value="Buy" position="8.5 3.1 0.01" color="black" width="12"></a-text>
      <a-text value="Buy" position="9.5 3.1 -0.01" rotation="0 180 0" color="black" width="12"></a-text>
      <a-box position="9 3 0" rotation="0 0 0" width="1.5" height="1" depth="0" color="white"></a-box>
      
      <a-text value="Try On" position="6.3 3.1 0.01" color="black" width="10" tryshoes></a-text>
      <a-text value="Try On" position="7.7 3.1 -0.01" rotation="0 180 0" color="black" width="10" tryshoes></a-text>
      <a-box position="7 3 0" rotation="0 0 0" width="1.5" height="1" depth="0" color="white" tryshoes></a-box>

      <!-- Item 3 -->
      <a-gltf-model
        id="pants"
        position="0 0 9"
        scale="0.7 0.69 0.8"
        src="assets/male_jeans/scene.gltf"
        animation="property: rotation; to: 0 360 0; dur: 5000; loop: true; easing: linear"

      ></a-gltf-model>
      <a-box src="assets/tiles.jpeg" static-body position="0 0 9" scale="8 1 8"
          material="color: #D4A3BA; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2;" shadow="receive: true; cast: true;">
      </a-box>
      <a-text value="Buy" position="-1.5 5.5 9.01" color="black" width="12"></a-text>
      <a-text value="Buy" position="-0.5 5.5 8.99" rotation="0 180 0" color="black" width="12"></a-text>
      <a-box position="-1 5.4 9" rotation="0 0 0" width="1.5" height="1" depth="0" color="white"></a-box>

      <a-text value="Try On" position="0.5 5.5 9.01" color="black" width="12" trypants></a-text>
      <a-text value="Try On" position="2 5.5 8.99" rotation="0 180 0" color="black" width="12" trypants></a-text>
      <a-box position="1.2 5.4 9" rotation="0 0 0" width="2" height="1" depth="0" color="white" trypants></a-box>

      <!-- Non Wearable Item to Buy -->
      <!-- Item 1 -->
      <a-gltf-model
        id="pants"
        position="0 5 -8"
        scale="0.7 0.69 0.8"
        src="assets/edgefield_pottery_collection_63_-_marked_stacker/scene.gltf"
        animation="property: rotation; to: 0 360 0; dur: 5000; loop: true; easing: linear"

      ></a-gltf-model>
      <a-box src="assets/tiles.jpeg" static-body position="0 0 -9" scale="8 1 8"
          material="color: #D4A3BA; shader: phong; reflectivity: 0.9; shininess: 30; repeat: 2 2;" shadow="receive: true; cast: true;">
      </a-box>
      <a-text value="Buy" position="-0.5 3.6 -8.99" color="black" width="12"></a-text>
      <a-text value="Buy" position="0.5 3.6 -9.01" rotation="0 180 0" color="black" width="12"></a-text>
      <a-box position="0 3.5 -9" rotation="0 0 0" width="1.5" height="1" depth="0" color="white"></a-box>
    
    </a-scene>
    
    <!-- Custom Script(s) -->
    <script src="display_avatar.js"></script>
  </body>
</html>
